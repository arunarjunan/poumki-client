{"ast":null,"code":"import _regeneratorRuntime from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Axios,*as others from\"axios\";import React,{useEffect,useState}from\"react\";import{Draw}from\"./image/Draw\";import{Image}from\"./image/Image\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserListPage(_ref){var socket=_ref.socket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var getUserList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Axios.get(\"http://localhost:3001/read\").then(function(response){setUserList(response.data);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function getUserList(){return _ref2.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"Delete\"+id);_context2.next=3;return Axios.get(\"http://localhost:3001/delete\",{params:{id:id}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteUser(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){getUserList();},[]);useEffect(function(){socket.on(\"user_added\",function(){console.log(\"user_added\");getUserList();});},[socket]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-7\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userList.map(function(val,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:val.firstName}),/*#__PURE__*/_jsx(\"td\",{children:val.lastName}),/*#__PURE__*/_jsx(\"td\",{children:val.email}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){deleteUser(val._id);},children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-trash\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"})]})})]},key);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:/*#__PURE__*/_jsx(Image,{})})]})});}export default UserListPage;","map":{"version":3,"names":["Axios","others","React","useEffect","useState","Draw","Image","UserListPage","socket","userList","setUserList","getUserList","get","then","response","data","deleteUser","id","console","log","params","on","map","val","key","firstName","lastName","email","_id"],"sources":["/Users/softnotions/Desktop/poumki/client/src/UserListPage.js"],"sourcesContent":["import Axios, * as others from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Draw } from \"./image/Draw\";\nimport { Image } from \"./image/Image\";\n\n\nfunction UserListPage({ socket }) {\n  const [userList, setUserList] = useState([]);\n\n  const getUserList = async () => {\n    Axios.get(\"http://localhost:3001/read\").then((response) => {\n      setUserList(response.data);\n    });\n  };\n\n  const deleteUser = async (id) => {\n    console.log(\"Delete\" + id);\n    await Axios.get(\"http://localhost:3001/delete\",{\n      params:{\n        id:id\n      }\n    });\n  };\n\n  useEffect(() => {\n    getUserList();\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"user_added\", () => {\n      console.log(\"user_added\");\n      getUserList();\n    });\n  }, [socket]);\n\n  return (\n    <div className=\"container\">\n\n<div className=\"row\">\n\n<div className=\"col-7\">\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">First Name</th>\n      <th scope=\"col\">Last Name</th>\n      <th scope=\"col\">Email</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n  </thead>\n  <tbody>\n  {userList.map((val, key) => {\n        return (\n          <tr key={key}>\n            <th scope=\"row\">{val.firstName}</th>\n            <td>{val.lastName}</td>\n            <td>{val.email}</td>\n            <td  onClick={() => {\n                deleteUser(val._id);\n              }}>\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"16\"\n                height=\"16\"\n                fill=\"currentColor\"\n                className=\"bi bi-trash\"\n                viewBox=\"0 0 16 16\"\n              >\n                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\" />\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n                />\n              </svg>\n            </td>\n          </tr>\n        )})}\n  </tbody>\n</table>\n    \n  </div>\n\n  <div className=\"col-5\">\n<Image/>\n  </div>\n</div>\n\n     \n    </div>\n  );\n}\n\nexport default UserListPage;\n"],"mappings":"0YAAA,MAAOA,MAAP,CAAc,GAAKC,OAAnB,KAA+B,OAA/B,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,cAArB,CACA,OAASC,KAAT,KAAsB,eAAtB,C,wFAGA,QAASC,aAAT,MAAkC,IAAVC,OAAU,MAAVA,MAAU,CAChC,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,YAAW,6FAAG,qIAClBX,KAAK,CAACY,GAAN,CAAU,4BAAV,EAAwCC,IAAxC,CAA6C,SAACC,QAAD,CAAc,CACzDJ,WAAW,CAACI,QAAQ,CAACC,IAAV,CAAX,CACD,CAFD,EADkB,sDAAH,kBAAXJ,YAAW,2CAAjB,CAMA,GAAMK,WAAU,6FAAG,kBAAOC,EAAP,wHACjBC,OAAO,CAACC,GAAR,CAAY,SAAWF,EAAvB,EADiB,uBAEXjB,MAAK,CAACY,GAAN,CAAU,8BAAV,CAAyC,CAC7CQ,MAAM,CAAC,CACLH,EAAE,CAACA,EADE,CADsC,CAAzC,CAFW,yDAAH,kBAAVD,WAAU,6CAAhB,CASAb,SAAS,CAAC,UAAM,CACdQ,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIAR,SAAS,CAAC,UAAM,CACdK,MAAM,CAACa,EAAP,CAAU,YAAV,CAAwB,UAAM,CAC5BH,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAR,WAAW,GACZ,CAHD,EAID,CALQ,CAKN,CAACH,MAAD,CALM,CAAT,CAOA,mBACE,YAAK,SAAS,CAAC,WAAf,uBAEJ,aAAK,SAAS,CAAC,KAAf,wBAEA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,KAAK,CAAC,OAAb,wBACE,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,wBADF,cAEE,WAAI,KAAK,CAAC,KAAV,uBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,mBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,oBAJF,GADF,EADF,cASE,uBACCC,QAAQ,CAACa,GAAT,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAc,CACtB,mBACE,mCACE,WAAI,KAAK,CAAC,KAAV,UAAiBD,GAAG,CAACE,SAArB,EADF,cAEE,oBAAKF,GAAG,CAACG,QAAT,EAFF,cAGE,oBAAKH,GAAG,CAACI,KAAT,EAHF,cAIE,WAAK,OAAO,CAAE,kBAAM,CAChBX,UAAU,CAACO,GAAG,CAACK,GAAL,CAAV,CACD,CAFH,uBAGA,aACI,KAAK,CAAC,4BADV,CAEI,KAAK,CAAC,IAFV,CAGI,MAAM,CAAC,IAHX,CAII,IAAI,CAAC,cAJT,CAKI,SAAS,CAAC,aALd,CAMI,OAAO,CAAC,WANZ,wBAQI,aAAM,CAAC,CAAC,iKAAR,EARJ,cASI,aACE,QAAQ,CAAC,SADX,CAEE,CAAC,CAAC,4OAFJ,EATJ,GAHA,EAJF,GAASJ,GAAT,CADF,CAwBE,CAzBP,CADD,EATF,GADA,EAFA,cA4CE,YAAK,SAAS,CAAC,OAAf,uBACF,KAAC,KAAD,IADE,EA5CF,GAFI,EADF,CAuDD,CAED,cAAejB,aAAf"},"metadata":{},"sourceType":"module"}