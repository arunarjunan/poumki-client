{"ast":null,"code":"import _regeneratorRuntime from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/softnotions/Desktop/poumki/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{ReactSketchCanvas}from\"react-sketch-canvas\";import{useState}from\"react\";import{useRef}from\"react\";import'./draw.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var colors=[\"red\",\"green\",\"yellow\",\"black\",\"blue\",\"violet\"];export var Draw=function Draw(_ref){var data=_ref.data;var canvasRef=useRef();var _useState=useState(colors[0]),_useState2=_slicedToArray(_useState,2),selectedColor=_useState2[0],setSelectedColor=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),imageURL=_useState4[0],setImageURL=_useState4[1];var styles={border:\"0.0625rem solid #9c9c9c\",borderRadius:\"0.25rem\",height:\"500px\",backgroundImage:\"url(\".concat(data,\")\"),objectFit:\"fit\"};var imageExport=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _canvasRef$current;var exportImage,exportedDataURI;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:exportImage=(_canvasRef$current=canvasRef.current)===null||_canvasRef$current===void 0?void 0:_canvasRef$current.exportImage;if(!exportImage){_context.next=8;break;}_context.next=4;return exportImage(\"png\");case 4:exportedDataURI=_context.sent;setImageURL(exportedDataURI);console.log(exportedDataURI);downloadURI(exportedDataURI,\"image.png\");case 8:case\"end\":return _context.stop();}}},_callee);}));return function imageExport(){return _ref2.apply(this,arguments);};}();var clearCanvas=function clearCanvas(){canvasRef.current.clearCanvas();};function downloadURI(uri,name){var link=document.createElement(\"a\");link.download=name;link.href=uri;document.body.appendChild(link);link.click();document.body.removeChild(link);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ReactSketchCanvas,{id:\"canvas\",className:\"canva\",width:\"100%\",height:\"100%\",style:styles,strokeWidth:4,strokeColor:selectedColor,backgroundImage:data,ref:canvasRef,exportWithBackgroundImage:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"select\",{className:\"form-select text-capitalize\",value:selectedColor,onChange:function onChange(e){return setSelectedColor(e.target.value);},children:colors.map(function(color){return/*#__PURE__*/_jsx(\"option\",{value:color,children:color},color);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearCanvas,className:\"w-100 btn btn-lg btn-primary\",children:\"Clear\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"button\",{onClick:imageExport,className:\"w-100 btn btn-lg btn-primary\",children:\"Download\"})})]})]});};","map":{"version":3,"names":["React","ReactSketchCanvas","useState","useRef","colors","Draw","data","canvasRef","selectedColor","setSelectedColor","imageURL","setImageURL","styles","border","borderRadius","height","backgroundImage","objectFit","imageExport","exportImage","current","exportedDataURI","console","log","downloadURI","clearCanvas","uri","name","link","document","createElement","download","href","body","appendChild","click","removeChild","e","target","value","map","color"],"sources":["/Users/softnotions/Desktop/poumki/client/src/image/Draw.js"],"sourcesContent":["import * as React from \"react\";\nimport { ReactSketchCanvas } from \"react-sketch-canvas\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport './draw.css'\n\nconst colors = [\"red\", \"green\", \"yellow\", \"black\", \"blue\",\"violet\"];\n\nexport const Draw = ({ data }) => {\n  const canvasRef = useRef();\n  const [selectedColor, setSelectedColor] = useState(colors[0]);\n  const [imageURL, setImageURL] = useState(\"\");\n\n  const styles = {\n    border: \"0.0625rem solid #9c9c9c\",\n    borderRadius: \"0.25rem\",\n    height: \"500px\",\n    backgroundImage: `url(${data})`,\n    objectFit: \"fit\",\n  };\n\n\n  const imageExport = async () => {\n    const exportImage = canvasRef.current?.exportImage;\n    if (exportImage) {\n      const exportedDataURI = await exportImage(\"png\");\n      setImageURL(exportedDataURI);\n      console.log(exportedDataURI);\n      downloadURI(exportedDataURI, \"image.png\");\n    }\n  };\n  const clearCanvas = () => {\n    canvasRef.current.clearCanvas();\n  };\n\n  function downloadURI(uri, name) {\n    var link = document.createElement(\"a\");\n    link.download = name;\n    link.href = uri;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n\n  return (\n    <>\n      <ReactSketchCanvas\n        id=\"canvas\"\n        className=\"canva\"\n        width=\"100%\"\n        height=\"100%\"\n        style={styles}\n        strokeWidth={4}\n        strokeColor={selectedColor}\n        backgroundImage={data}\n        ref={canvasRef}\n        exportWithBackgroundImage\n      ></ReactSketchCanvas>\n\n      <div className=\"row mt-3\">\n        <div className=\"col\">\n        <select\n          className=\"form-select text-capitalize\"\n          value={selectedColor}\n          onChange={(e) => setSelectedColor(e.target.value)}\n        >\n          {colors.map((color) => (\n            <option key={color} value={color}>\n              {color}\n            </option>\n          ))}\n        </select>\n      \n        </div>\n        <div className=\"col\">\n        <button onClick={clearCanvas} className=\"w-100 btn btn-lg btn-primary\">Clear</button>\n        </div>\n        <div className=\"col\">\n        <button onClick={imageExport} className=\"w-100 btn btn-lg btn-primary\">Download</button>\n        </div>\n       \n        \n        \n      </div>\n    </>\n  );\n};"],"mappings":"0YAAA,MAAO,GAAKA,MAAZ,KAAuB,OAAvB,CACA,OAASC,iBAAT,KAAkC,qBAAlC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,MAAT,KAAuB,OAAvB,CACA,MAAO,YAAP,C,6IAEA,GAAMC,OAAM,CAAG,CAAC,KAAD,CAAQ,OAAR,CAAiB,QAAjB,CAA2B,OAA3B,CAAoC,MAApC,CAA2C,QAA3C,CAAf,CAEA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,MAAc,IAAXC,KAAW,MAAXA,IAAW,CAChC,GAAMC,UAAS,CAAGJ,MAAM,EAAxB,CACA,cAA0CD,QAAQ,CAACE,MAAM,CAAC,CAAD,CAAP,CAAlD,wCAAOI,aAAP,eAAsBC,gBAAtB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,OAAM,CAAG,CACbC,MAAM,CAAE,yBADK,CAEbC,YAAY,CAAE,SAFD,CAGbC,MAAM,CAAE,OAHK,CAIbC,eAAe,eAASV,IAAT,KAJF,CAKbW,SAAS,CAAE,KALE,CAAf,CASA,GAAMC,YAAW,6FAAG,4LACZC,WADY,qBACEZ,SAAS,CAACa,OADZ,6CACE,mBAAmBD,WADrB,KAEdA,WAFc,+CAGcA,YAAW,CAAC,KAAD,CAHzB,QAGVE,eAHU,eAIhBV,WAAW,CAACU,eAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYF,eAAZ,EACAG,WAAW,CAACH,eAAD,CAAkB,WAAlB,CAAX,CANgB,sDAAH,kBAAXH,YAAW,2CAAjB,CASA,GAAMO,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBlB,SAAS,CAACa,OAAV,CAAkBK,WAAlB,GACD,CAFD,CAIA,QAASD,YAAT,CAAqBE,GAArB,CAA0BC,IAA1B,CAAgC,CAC9B,GAAIC,KAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAX,CACAF,IAAI,CAACG,QAAL,CAAgBJ,IAAhB,CACAC,IAAI,CAACI,IAAL,CAAYN,GAAZ,CACAG,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B,EACAA,IAAI,CAACO,KAAL,GACAN,QAAQ,CAACI,IAAT,CAAcG,WAAd,CAA0BR,IAA1B,EACD,CAED,mBACE,wCACE,KAAC,iBAAD,EACE,EAAE,CAAC,QADL,CAEE,SAAS,CAAC,OAFZ,CAGE,KAAK,CAAC,MAHR,CAIE,MAAM,CAAC,MAJT,CAKE,KAAK,CAAEhB,MALT,CAME,WAAW,CAAE,CANf,CAOE,WAAW,CAAEJ,aAPf,CAQE,eAAe,CAAEF,IARnB,CASE,GAAG,CAAEC,SATP,CAUE,yBAAyB,KAV3B,EADF,cAcE,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,SAAS,CAAC,KAAf,uBACA,eACE,SAAS,CAAC,6BADZ,CAEE,KAAK,CAAEC,aAFT,CAGE,QAAQ,CAAE,kBAAC6B,CAAD,QAAO5B,iBAAgB,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EAHZ,UAKGnC,MAAM,CAACoC,GAAP,CAAW,SAACC,KAAD,qBACV,eAAoB,KAAK,CAAEA,KAA3B,UACGA,KADH,EAAaA,KAAb,CADU,EAAX,CALH,EADA,EADF,cAeE,YAAK,SAAS,CAAC,KAAf,uBACA,eAAQ,OAAO,CAAEhB,WAAjB,CAA8B,SAAS,CAAC,8BAAxC,mBADA,EAfF,cAkBE,YAAK,SAAS,CAAC,KAAf,uBACA,eAAQ,OAAO,CAAEP,WAAjB,CAA8B,SAAS,CAAC,8BAAxC,sBADA,EAlBF,GAdF,GADF,CA0CD,CA9EM"},"metadata":{},"sourceType":"module"}